<script>
  function initialize() {
    var myLatlng = new google.maps.LatLng(<%= "#{@report.latitude}, #{@report.longtitude}" %>);
    var myOptions = {
        zoom: 12,
        center: myLatlng,
        mapTypeId: google.maps.MapTypeId.ROADMAP
    }
    var map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);
    var image = '/images/beachflag.png';
    var beachMarker = new google.maps.Marker({
        position: myLatlng,
        map: map,
        icon: image
    });
  }
    
  function loadScript() {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src = "http://maps.google.com/maps/api/js?sensor=false&callback=initialize";
    document.body.appendChild(script);
  }
    
  window.onload = loadScript;
</script>
<%=@report.title %>
<%=@report.description %>
<div id="map_canvas"></div>
